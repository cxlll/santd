<!doctype html><html><head><meta charset="utf-8"/><title>Santd</title><link rel="icon" href="/santd/logo.svg"><script>window['SAN_DOCIT'] = {};</script><base href="/santd/"><link href="/santd/static/css/chunk-vendors.css" rel="stylesheet"><link href="/santd/static/css/client-entry.css" rel="stylesheet"></head><body><div id="app"><div id="site"><header id="header"><a href="/santd/" class="navbar"><img src="/santd/logo.svg" alt="Home" class="logo"> <span>Santd</span></a><ul><li><a target="_blank" href="https://github.com/ecomfe/santd"><img src="/santd/github.svg" class="nav-img"></a></li></ul></header><aside id="sidebar" class="sidebar"><ul class="tree"><li data-id="/"><a href="/santd/" onclick="return false;">Ant Design of San</a></li><li data-id="/quickstart/"><a href="/santd/quickstart/" onclick="return false;">快速上手</a></li><li data-id="/theme/"><a href="/santd/theme/" onclick="return false;">定制主题</a></li><li data-id="/changelog/"><a href="/santd/changelog/" onclick="return false;">更新日志</a></li><li data-id="/i18n/"><a href="/santd/i18n/" onclick="return false;">国际化</a></li><li><span>组件</span><ul><li><span>通用</span><ul><li data-id="/components/button/"><a href="/santd/components/button/" onclick="return false;">Button 按钮</a></li><li data-id="/components/icon/"><a href="/santd/components/icon/" onclick="return false;">Icon 图标</a></li><li data-id="/components/typography/"><a href="/santd/components/typography/" onclick="return false;">Typography 排版</a></li></ul></li><li><span>布局</span><ul><li data-id="/components/grid/"><a href="/santd/components/grid/" onclick="return false;">Grid 栅格</a></li><li data-id="/components/layout/"><a href="/santd/components/layout/" onclick="return false;">Layout 布局</a></li></ul></li><li><span>导航</span><ul><li data-id="/components/affix/"><a href="/santd/components/affix/" onclick="return false;">Affix 图钉</a></li><li data-id="/components/breadcrumb/"><a href="/santd/components/breadcrumb/" onclick="return false;">Breadcrumb 面包屑</a></li><li data-id="/components/dropdown/"><a href="/santd/components/dropdown/" onclick="return false;">Dropdown 下拉菜单</a></li><li data-id="/components/menu/"><a href="/santd/components/menu/" onclick="return false;">Menu 导航菜单</a></li><li data-id="/components/pagination/"><a href="/santd/components/pagination/" onclick="return false;">Pagination 分页</a></li><li data-id="/components/pageheader/"><a href="/santd/components/pageheader/" onclick="return false;">PageHeader 页头</a></li><li data-id="/components/steps/"><a href="/santd/components/steps/" onclick="return false;">Steps 步骤条</a></li></ul></li><li><span>数据录入</span><ul><li data-id="/components/auto-complete/"><a href="/santd/components/auto-complete/" onclick="return false;">AutoComplete 自动完成</a></li><li data-id="/components/checkbox/"><a href="/santd/components/checkbox/" onclick="return false;">Checkbox 多选框</a></li><li data-id="/components/cascader/"><a href="/santd/components/cascader/" onclick="return false;">Cascader 级联选择</a></li><li data-id="/components/date-picker/"><a href="/santd/components/date-picker/" onclick="return false;">DatePicker 日期选择框</a></li><li data-id="/components/form/"><a href="/santd/components/form/" onclick="return false;">Form 表单</a></li><li data-id="/components/input-number/"><a href="/santd/components/input-number/" onclick="return false;">InputNumber 数字输入框</a></li><li data-id="/components/input/"><a href="/santd/components/input/" onclick="return false;">Input 输入框</a></li><li data-id="/components/mention/"><a href="/santd/components/mention/" onclick="return false;">Mention 提及</a></li><li data-id="/components/rate/"><a href="/santd/components/rate/" onclick="return false;">Rate 评分</a></li><li data-id="/components/radio/"><a href="/santd/components/radio/" onclick="return false;">Radio 单选框</a></li><li data-id="/components/switch/"><a href="/santd/components/switch/" onclick="return false;">Switch 开关</a></li><li data-id="/components/slider/"><a href="/santd/components/slider/" onclick="return false;">Slider 滑动输入条</a></li><li data-id="/components/select/"><a href="/santd/components/select/" onclick="return false;">Select 选择器</a></li><li data-id="/components/tree-select/"><a href="/santd/components/tree-select/" onclick="return false;">TreeSelect 树选择</a></li><li data-id="/components/transfer/"><a href="/santd/components/transfer/" onclick="return false;">Transfer 穿梭框</a></li><li data-id="/components/timepicker/"><a href="/santd/components/timepicker/" onclick="return false;">TimePicker 时间选择框</a></li><li data-id="/components/upload/"><a href="/santd/components/upload/" onclick="return false;">Upload 上传</a></li></ul></li><li><span>数据展示</span><ul><li data-id="/components/avatar/"><a href="/santd/components/avatar/" onclick="return false;">Avatar 头像</a></li><li data-id="/components/badge/"><a href="/santd/components/badge/" onclick="return false;">Badge 徽标数</a></li><li data-id="/components/comment/"><a href="/santd/components/comment/" onclick="return false;">Comment 评论</a></li><li data-id="/components/collapse/"><a href="/santd/components/collapse/" onclick="return false;">Collapse 折叠面板</a></li><li data-id="/components/carousel/"><a href="/santd/components/carousel/" onclick="return false;">Carousel 走马灯</a></li><li data-id="/components/card/"><a href="/santd/components/card/" onclick="return false;">Card 卡片</a></li><li data-id="/components/calendar/"><a href="/santd/components/calendar/" onclick="return false;">Calendar 日历</a></li><li data-id="/components/descriptions/"><a href="/santd/components/descriptions/" onclick="return false;">Descriptions 描述列表</a></li><li data-id="/components/empty/"><a href="/santd/components/empty/" onclick="return false;">Empty 空状态</a></li><li data-id="/components/list/"><a href="/santd/components/list/" onclick="return false;">List 列表</a></li><li data-id="/components/popover/"><a href="/santd/components/popover/" onclick="return false;">Popover 气泡卡片</a></li><li data-id="/components/statistic/"><a href="/santd/components/statistic/" onclick="return false;">Statistic 统计数值</a></li><li data-id="/components/tree/"><a href="/santd/components/tree/" onclick="return false;">Tree 树形控件</a></li><li data-id="/components/tooltip/"><a href="/santd/components/tooltip/" onclick="return false;">Tooltip 文字提示</a></li><li data-id="/components/timeline/"><a href="/santd/components/timeline/" onclick="return false;">Timeline 时间轴</a></li><li data-id="/components/tag/"><a href="/santd/components/tag/" onclick="return false;">Tag 标签</a></li><li data-id="/components/tabs/"><a href="/santd/components/tabs/" onclick="return false;">Tabs 标签页</a></li><li data-id="/components/table/"><a href="/santd/components/table/" onclick="return false;">Table 表格</a></li></ul></li><li><span>反馈</span><ul><li data-id="/components/alert/"><a href="/santd/components/alert/" onclick="return false;">Alert 警告提示</a></li><li data-id="/components/drawer/"><a href="/santd/components/drawer/" onclick="return false;">Drawer 抽屉</a></li><li data-id="/components/modal/"><a href="/santd/components/modal/" onclick="return false;">Modal 对话框</a></li><li data-id="/components/message/"><a href="/santd/components/message/" onclick="return false;">Message 全局提示</a></li><li data-id="/components/notification/"><a href="/santd/components/notification/" onclick="return false;">Notification 通知提醒框</a></li><li data-id="/components/progress/"><a href="/santd/components/progress/" onclick="return false;">Progress 进度条</a></li><li data-id="/components/popconfirm/"><a href="/santd/components/popconfirm/" onclick="return false;">Popconfirm 气泡确认框</a></li><li data-id="/components/result/"><a href="/santd/components/result/" onclick="return false;">Result 结果</a></li><li data-id="/components/spin/"><a href="/santd/components/spin/" onclick="return false;">Spin 加载中</a></li><li data-id="/components/skeleton/"><a href="/santd/components/skeleton/" onclick="return false;">Skeleton 骨架屏</a></li></ul></li><li><span>其他</span><ul><li data-id="/components/anchor/"><a href="/santd/components/anchor/" onclick="return false;">Anchor 锚点</a></li><li data-id="/components/back-top/"><a href="/santd/components/back-top/" onclick="return false;">BackTop 回到顶部</a></li><li data-id="/components/localeprovider/"><a href="/santd/components/localeprovider/" onclick="return false;">LocaleProvider 国际化</a></li><li data-id="/components/divider/"><a href="/santd/components/divider/" onclick="return false;">Divider 分割线</a></li></ul></li></ul></li></ul></aside><article id="content"><div id="router-view" class="router-view"><div><div class="content"><div class="markdown"><h1 id="upload-%E4%B8%8A%E4%BC%A0">Upload 上传</h1><p>文件选择上传和拖拽上传控件。</p><h2 id="%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8">何时使用</h2><p>上传是将信息（网页、文字、图片、视频等）通过网页或者上传工具发布到远程服务器上的过程。</p><ul><li>当需要上传一个或一些文件时。</li><li>当需要展现上传的进度时。</li><li>当需要使用拖拽交互时。</li></ul><h2 id="%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA">代码演示</h2></div></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E7%82%B9%E5%87%BB%E4%B8%8A%E4%BC%A0">点击上传</h4><p>经典款式，用户点击按钮弹出文件选择框。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{{authorization: <span class="token punctuation">&#39;</span>authorization-text<span class="token punctuation">&#39;</span>}}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Click to Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">&#39;santd/es/message&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;santd/es/message/style&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token string">&#39;uploading&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">,</span> info<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> file uploaded successfully</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> file upload failed.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E5%B7%B2%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8">已上传的文件列表</h4><p>使用 <code>defaultFileList</code> 设置已上传的内容。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{defaultFileList}}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Click to Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            defaultFileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                response<span class="token operator">:</span> <span class="token string">&#39;Server Error 500&#39;</span><span class="token punctuation">,</span> <span class="token comment">// custom error message to show</span>
                url<span class="token operator">:</span> <span class="token string">&#39;http://www.baidu.com/xxx.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;yyy.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                url<span class="token operator">:</span> <span class="token string">&#39;http://www.baidu.com/yyy.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;zzz.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;error&#39;</span><span class="token punctuation">,</span>
                response<span class="token operator">:</span> <span class="token string">&#39;Server Error 500&#39;</span><span class="token punctuation">,</span> <span class="token comment">// custom error message to show</span>
                url<span class="token operator">:</span> <span class="token string">&#39;http://www.baidu.com/zzz.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token string">&#39;uploading&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">,</span> info<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E5%AE%8C%E5%85%A8%E6%8E%A7%E5%88%B6%E7%9A%84%E4%B8%8A%E4%BC%A0%E5%88%97%E8%A1%A8">完全控制的上传列表</h4><p>使用 <code>fileList</code> 对列表进行完全控制，可以实现各种自定义功能，以下演示三种情况：</p><ol><li>上传列表数量的限制。</li><li>读取远程路径并显示链接。</li></ol></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList}}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;-1&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                url<span class="token operator">:</span> <span class="token string">&#39;http://www.baidu.com/xxx.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> fileList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>info<span class="token punctuation">.</span>fileList<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 1. Limit the number of uploaded files</span>
        <span class="token comment">// Only to show two recent uploaded files, and old ones will be replaced by the new</span>
        fileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. Read from response and show file link</span>
        fileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// Component will show file.url as link</span>
                file<span class="token punctuation">.</span>url <span class="token operator">=</span> file<span class="token punctuation">.</span>response<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> file<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">,</span> fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8A%E4%BC%A0">文件夹上传</h4><p>支持上传一个文件夹里的所有文件。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">directory</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Upload Directory
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8%E6%A0%B7%E5%BC%8F">图片列表样式</h4><p>上传文件为图片，可展示本地缩略图。IE8/9 不支持浏览器本地缩略图展示（<a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL" target="_blank">Ref</a>），可以写 <code>thumbUrl</code> 属性来代替。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload-list-inline<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token punctuation">{</span> 
            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;-1&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                url<span class="token operator">:</span> <span class="token string">&#39;https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png&#39;</span><span class="token punctuation">,</span>
                thumbUrl<span class="token operator">:</span> <span class="token string">&#39;https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> 
                uid<span class="token operator">:</span> <span class="token string">&#39;-2&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;yyy.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                url<span class="token operator">:</span> <span class="token string">&#39;https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png&#39;</span><span class="token punctuation">,</span>
                thumbUrl<span class="token operator">:</span> <span class="token string">&#39;https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.upload-list-inline .san-upload-list-item</span> <span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.upload-list-inline .san-upload-animate-enter</span> <span class="token punctuation">{</span>
    <span class="token property">animation-name</span><span class="token punctuation">:</span> uploadAnimateInlineIn<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.upload-list-inline .san-upload-animate-leave</span> <span class="token punctuation">{</span>
    <span class="token property">animation-name</span><span class="token punctuation">:</span> uploadAnimateInlineOut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E7%94%A8%E6%88%B7%E5%A4%B4%E5%83%8F">用户头像</h4><p>点击上传用户头像，并使用 <code>beforeUpload</code> 限制用户上传的图片格式和大小。</p><blockquote><p><code>beforeUpload</code> 的返回值可以是一个 Promise 以支持异步处理，如服务端校验等。</p></blockquote></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar-uploader<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">showUploadList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">beforeUpload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{beforeUpload}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{imageUrl}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">s-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>imageUrl<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">s-else</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{loading ? <span class="token punctuation">&#39;</span>loading<span class="token punctuation">&#39;</span> : <span class="token punctuation">&#39;</span>plus<span class="token punctuation">&#39;</span>}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>san-upload-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">&#39;santd/es/message&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;santd/es/message/style&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getBase64</span><span class="token punctuation">(</span><span class="token parameter">img<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">callback</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> 
            imageUrl<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token function">beforeUpload</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> isJPG <span class="token operator">=</span> file<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&#39;image/jpeg&#39;</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isJPG<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;You can only upload JPG file!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">const</span> isLt2M <span class="token operator">=</span> file<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isLt2M<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;Image must smaller than 2MB!&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token keyword">return</span> isJPG <span class="token operator">&amp;&amp;</span> isLt2M<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;uploading&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;loading&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Get this url from response in real world.</span>
            <span class="token function">getBase64</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>originFileObj<span class="token punctuation">,</span> <span class="token parameter">imageUrl</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;imageUrl&#39;</span><span class="token punctuation">,</span> imageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;loading&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.avatar-uploader &gt; .san-upload</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 128px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 128px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E7%85%A7%E7%89%87%E5%A2%99">照片墙</h4><p>用户可以上传图片并在列表中显示缩略图。当上传照片数到达限制后，上传按钮消失。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clearfix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">showButton</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList.length &lt; 3}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-preview</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handlePreview<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>plus<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>san-upload-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-modal</span> <span class="token attr-name">visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{previewVisible}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">hasFooter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{false}}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">on-cancel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleCancel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>example<span class="token punctuation">&quot;</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{previewImage}}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-modal</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Icon<span class="token punctuation">,</span> Modal<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getBase64</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        reader<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon<span class="token punctuation">,</span>
        <span class="token string">&#39;s-modal&#39;</span><span class="token operator">:</span> Modal
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            previewVisible<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            previewImage<span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
                uid<span class="token operator">:</span> <span class="token string">&#39;-1&#39;</span><span class="token punctuation">,</span>
                name<span class="token operator">:</span> <span class="token string">&#39;xxx.png&#39;</span><span class="token punctuation">,</span>
                status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span>
                url<span class="token operator">:</span> <span class="token string">&#39;https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png&#39;</span>
            <span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;previewVisible&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handlePreview</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span>url <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span>preview<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">getBase64</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>originFileObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">preview</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;previewImage&#39;</span><span class="token punctuation">,</span> preview<span class="token punctuation">)</span><span class="token punctuation">;</span>
                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;previewVisible&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;previewImage&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;previewVisible&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/css<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.san-upload-select-picture-card i</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.san-upload-select-picture-card .san-upload-text</span> <span class="token punctuation">{</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E6%8B%96%E6%8B%BD%E4%B8%8A%E4%BC%A0">拖拽上传</h4><p>把文件拖入指定区域，完成上传，同样支持点击上传。设置 <code>multiple</code> 后，在 <code>IE10+</code> 可以一次上传多个文件。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-dragger</span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{true}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleChange<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>san-upload-drag-icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inbox<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>san-upload-text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click or drag file to this area to upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>san-upload-hint<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-dragger</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Dragger <span class="token operator">=</span> Upload<span class="token punctuation">.</span>Dragger<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-dragger&#39;</span><span class="token operator">:</span> Dragger<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0">手动上传</h4><p><code>beforeUpload</code> 返回 <code>false</code> 后，手动上传文件。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-remove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleRemove<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">beforeUpload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{beforeUpload}}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Select File
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">on-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleUpload<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{fileList.length === 0}}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{uploading}}<span class="token punctuation">&quot;</span></span>
            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token style language-css"><span class="token property">margin-top</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span>
        <span class="token punctuation">&gt;</span></span>
            {{uploading ? &#39;Uploading&#39; : &#39;Start Upload&#39;}}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">&#39;santd/es/message&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&#39;santd/es/message/style&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            uploading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token function">beforeUpload</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">const</span> fileList <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">,</span> fileList<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleRemove</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> fileList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> index <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> newFileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        newFileList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">,</span> newFileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">handleUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> fileList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;fileList&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        fileList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&#39;files[]&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;uploading&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            url<span class="token operator">:</span> <span class="token string">&#39;https://www.mocky.io/v2/5cc8019d300000980a055e76&#39;</span><span class="token punctuation">,</span>
            method<span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
            processData<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> formData
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&#39;uploading&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&#39;upload successfully.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&#39;upload failed.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><codebox><code-preview-0></code-preview-0><section><h4 id="%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A2%84%E8%A7%88">自定义预览</h4><p>自定义本地预览，用于处理非图片格式文件（例如视频文件）。</p></section><div><div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>
            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://jsonplaceholder.typicode.com/posts/<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">previewFile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{{previewFile}}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> Upload
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;santd&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&#39;s-upload&#39;</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>
        <span class="token string">&#39;s-button&#39;</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>
        <span class="token string">&#39;s-icon&#39;</span><span class="token operator">:</span> Icon
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token punctuation">{</span> 
            <span class="token function">previewFile</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Your upload file:&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Your process logic. Here we just mock to the same file</span>
                <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    url<span class="token operator">:</span> <span class="token string">&#39;https://next.json-generator.com/api/json/get/4ytyBoLK8&#39;</span><span class="token punctuation">,</span>
                    method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>
                    data<span class="token operator">:</span> file<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> thumbnail <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> thumbnail<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre></div></div></codebox></div><div class="content"><div class="markdown"><h2 id="api">API</h2><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>accept</td><td>接受上传的文件类型, 详见 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept" target="_blank">input accept Attribute</a></td><td>string</td><td>无</td></tr><tr><td>action</td><td>必选参数, 上传的地址</td><td>string</td><td>无</td></tr><tr><td>method</td><td>上传请求的 http method</td><td>string</td><td>&#39;post&#39;</td></tr><tr><td>directory</td><td>支持上传文件夹（<a href="https://caniuse.com/#feat=input-file-directory" target="_blank">caniuse</a>）</td><td>boolean</td><td>false</td></tr><tr><td>beforeUpload</td><td>上传文件之前的钩子，参数为上传的文件，若返回 <code>false</code> 则停止上传。支持返回一个 Promise 对象，Promise 对象 reject 时则停止上传，resolve 时开始上传（ resolve 传入 <code>File</code> 或 <code>Blob</code> 对象则上传 resolve 传入对象）。注意：IE9 不支持该方法。</td><td>(file, fileList) =&gt; boolean | Promise</td><td>无</td></tr><tr><td>customRequest</td><td>通过覆盖默认的上传行为，可以自定义自己的上传实现</td><td>function</td><td>无</td></tr><tr><td>data</td><td>上传所需参数或返回上传参数的方法</td><td>object| (file) =&gt; object</td><td>无</td></tr><tr><td>defaultFileList</td><td>默认已经上传的文件列表</td><td>object[]</td><td>无</td></tr><tr><td>disabled</td><td>是否禁用</td><td>boolean</td><td>false</td></tr><tr><td>fileList</td><td>已经上传的文件列表</td><td>object[]</td><td>无</td></tr><tr><td>headers</td><td>设置上传的请求头部，IE10 以上有效</td><td>object</td><td>无</td></tr><tr><td>listType</td><td>上传列表的内建样式，支持三种基本样式 <code>text</code>, <code>picture</code> 和 <code>picture-card</code></td><td>string</td><td>&#39;text&#39;</td></tr><tr><td>multiple</td><td>是否支持多选文件，<code>ie10+</code> 支持。开启后按住 ctrl 可选择多个文件。</td><td>boolean</td><td>false</td></tr><tr><td>name</td><td>发到后台的文件参数名</td><td>string</td><td>&#39;file&#39;</td></tr><tr><td>previewFile</td><td>自定义文件预览逻辑</td><td>(file: File | Blob) =&gt; Promise&lt;dataURL: string&gt;</td><td>无</td></tr><tr><td>showUploadList</td><td>是否展示 uploadList, 可设为一个对象，用于单独设定 <code>showPreviewIcon</code> 和 <code>showRemoveIcon</code></td><td>Boolean or <code>{ showPreviewIcon?: boolean, showRemoveIcon?: boolean }</code></td><td>true</td></tr><tr><td>withCredentials</td><td>上传请求时是否携带 cookie</td><td>boolean</td><td>false</td></tr><tr><td>openFileDialogOnClick</td><td>点击打开文件对话框</td><td>boolean</td><td>true</td></tr><tr><td>on-change</td><td>上传文件改变时的状态，详见 <a href="#onChange">onChange</a></td><td>Function</td><td>无</td></tr><tr><td>on-preview</td><td>点击文件链接或预览图标时的回调</td><td>Function</td><td>无</td></tr><tr><td>on-remove</td><td>点击移除文件时的回调，返回值为 false 时不移除。支持返回一个 Promise 对象，Promise 对象 resolve(false) 或 reject 时不移除。</td><td>Function(file): boolean | Promise</td><td>无</td></tr></tbody></table><h3 id="on-change">on-change</h3><blockquote><p>上传中、完成、失败都会调用这个函数。</p></blockquote><p>文件状态改变的回调，返回为：</p><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
  file<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  fileList<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
  event<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><ol><li><p><code>file</code> 当前操作的文件对象。</p><pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>
   uid<span class="token operator">:</span> <span class="token string">&#39;uid&#39;</span><span class="token punctuation">,</span>      <span class="token comment">// 文件唯一标识，建议设置为负数，防止和内部产生的 id 冲突</span>
   name<span class="token operator">:</span> <span class="token string">&#39;xx.png&#39;</span>   <span class="token comment">// 文件名</span>
   status<span class="token operator">:</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 状态有：uploading done error removed</span>
   response<span class="token operator">:</span> <span class="token string">&#39;{&quot;status&quot;: &quot;success&quot;}&#39;</span><span class="token punctuation">,</span> <span class="token comment">// 服务端响应内容</span>
   linkProps<span class="token operator">:</span> <span class="token string">&#39;{&quot;download&quot;: &quot;image&quot;}&#39;</span> <span class="token comment">// 下载链接额外的 HTML 属性</span>
<span class="token punctuation">}</span></code></pre></li><li><p><code>fileList</code> 当前的文件列表。</p></li><li><p><code>event</code> 上传中的服务端响应内容，包含了上传进度等信息，高级浏览器支持。</p></li></ol></div></div></div></div><aside class="toc"><ul class="tree"></ul></aside></article></div></div><script src="/santd/static/js/chunk-vendors.js"></script><script src="/santd/static/js/client-entry.js"></script></body></html>