(window.webpackJsonp=window.webpackJsonp||[]).push([[78,66],{16:function(n,s,a){"use strict";a(77)},1670:function(n,s,a){var t=a(3),p=a(2861),o=a(626).default;n.exports=a(626),n.exports.default=t(o,p,[])},1671:function(n,s,a){var t=a(3),p=a(2862),o=a(627).default;n.exports=a(627),n.exports.default=t(o,p,[])},1672:function(n,s,a){var t=a(3),p=a(2863),o=a(628).default;n.exports=a(628),n.exports.default=t(o,p,[])},1673:function(n,s,a){var t=a(3),p=a(2864),o=a(629).default;n.exports=a(629),n.exports.default=t(o,p,[])},1674:function(n,s,a){var t=a(3),p=a(2865),o=a(630).default;n.exports=a(630),n.exports.default=t(o,p,[])},1675:function(n,s,a){var t=a(3),p=a(2866),o=a(631).default;n.exports=a(631),n.exports.default=t(o,p,[])},1676:function(n,s,a){var t=a(3),p=a(2867),o=a(632).default;n.exports=a(632),n.exports.default=t(o,p,[])},1677:function(n,s,a){var t=a(3),p=a(2868),o=a(633).default;n.exports=a(633),n.exports.default=t(o,p,[])},1678:function(n,s,a){var t=a(3),p=a(2869),o=a(634).default;n.exports=a(634),n.exports.default=t(o,p,[])},1679:function(n,s,a){var t=a(3),p=a(2870),o=a(635).default;n.exports=a(635),n.exports.default=t(o,p,[])},1680:function(n,s,a){var t=a(3),p=a(2871),o=a(636).default;n.exports=a(636),n.exports.default=t(o,p,[])},1681:function(n,s,a){var t=a(3);a(2872);var p=a(2873),o=a(637).default;n.exports=a(637),n.exports.default=t(o,p,[])},1682:function(n,s,a){var t=a(3),p=a(2874),o=a(638).default;n.exports=a(638),n.exports.default=t(o,p,[])},1683:function(n,s,a){var t=a(3);a(2875);var p=a(2876),o=a(639).default;n.exports=a(639),n.exports.default=t(o,p,[])},1684:function(n,s,a){var t=a(3),p=a(2877),o=a(640).default;n.exports=a(640),n.exports.default=t(o,p,[])},1685:function(n,s,a){var t=a(3);a(2878);var p=a(2879),o=a(641).default;n.exports=a(641),n.exports.default=t(o,p,[])},1686:function(n,s,a){var t=a(3),p=a(2880),o=a(642).default;n.exports=a(642),n.exports.default=t(o,p,[])},1687:function(n,s,a){var t=a(3),p=a(2881),o=a(643).default;n.exports=a(643),n.exports.default=t(o,p,[])},1688:function(n,s,a){var t=a(3),p=a(2899),o=a(652).default;n.exports=a(652),n.exports.default=t(o,p,[])},1689:function(n,s,a){var t=a(3),p=a(2900),o=a(653).default;n.exports=a(653),n.exports.default=t(o,p,[])},1690:function(n,s,a){var t=a(3),p=a(2901),o=a(654).default;n.exports=a(654),n.exports.default=t(o,p,[])},1691:function(n,s,a){var t=a(3),p=a(2902),o=a(655).default;n.exports=a(655),n.exports.default=t(o,p,[])},2861:function(n,s){n.exports=' <div class="content"><div class="markdown"><h2 id="api">API</h2> <table> <thead> <tr> <th>参数</th> <th>说明</th> <th>类型</th> <th>默认值</th> </tr> </thead> <tbody> <tr> <td>accept</td> <td>接受上传的文件类型, 详见 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#attr-accept" target="_blank">input accept Attribute</a></td> <td>string</td> <td>无</td> </tr> <tr> <td>action</td> <td>必选参数, 上传的地址</td> <td>string</td> <td>无</td> </tr> <tr> <td>method</td> <td>上传请求的 http method</td> <td>string</td> <td>\'post\'</td> </tr> <tr> <td>directory</td> <td>支持上传文件夹（<a href="https://caniuse.com/#feat=input-file-directory" target="_blank">caniuse</a>）</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>beforeUpload</td> <td>上传文件之前的钩子，参数为上传的文件，若返回 <code>false</code> 则停止上传。支持返回一个 Promise 对象，Promise 对象 reject 时则停止上传，resolve 时开始上传（ resolve 传入 <code>File</code> 或 <code>Blob</code> 对象则上传 resolve 传入对象）。注意：IE9 不支持该方法。</td> <td>(file, fileList) =&gt; boolean | Promise</td> <td>无</td> </tr> <tr> <td>customRequest</td> <td>通过覆盖默认的上传行为，可以自定义自己的上传实现</td> <td>function</td> <td>无</td> </tr> <tr> <td>data</td> <td>上传所需参数或返回上传参数的方法</td> <td>object| (file) =&gt; object</td> <td>无</td> </tr> <tr> <td>defaultFileList</td> <td>默认已经上传的文件列表</td> <td>object[]</td> <td>无</td> </tr> <tr> <td>disabled</td> <td>是否禁用</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>fileList</td> <td>已经上传的文件列表</td> <td>object[]</td> <td>无</td> </tr> <tr> <td>headers</td> <td>设置上传的请求头部，IE10 以上有效</td> <td>object</td> <td>无</td> </tr> <tr> <td>listType</td> <td>上传列表的内建样式，支持三种基本样式 <code>text</code>, <code>picture</code> 和 <code>picture-card</code></td> <td>string</td> <td>\'text\'</td> </tr> <tr> <td>multiple</td> <td>是否支持多选文件，<code>ie10+</code> 支持。开启后按住 ctrl 可选择多个文件。</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>name</td> <td>发到后台的文件参数名</td> <td>string</td> <td>\'file\'</td> </tr> <tr> <td>previewFile</td> <td>自定义文件预览逻辑</td> <td>(file: File | Blob) =&gt; Promise&lt;dataURL: string&gt;</td> <td>无</td> </tr> <tr> <td>showUploadList</td> <td>是否展示 uploadList, 可设为一个对象，用于单独设定 <code>showPreviewIcon</code> 和 <code>showRemoveIcon</code></td> <td showPreviewIcon?:="" boolean,="" showRemoveIcon?:="" boolean="">Boolean or</td> <td>true</td> </tr> <tr> <td>withCredentials</td> <td>上传请求时是否携带 cookie</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>openFileDialogOnClick</td> <td>点击打开文件对话框</td> <td>boolean</td> <td>true</td> </tr> <tr> <td>on-change</td> <td>上传文件改变时的状态，详见 <a href="#onChange">onChange</a></td> <td>Function</td> <td>无</td> </tr> <tr> <td>on-preview</td> <td>点击文件链接或预览图标时的回调</td> <td>Function</td> <td>无</td> </tr> <tr> <td>on-remove</td> <td>点击移除文件时的回调，返回值为 false 时不移除。支持返回一个 Promise 对象，Promise 对象 resolve(false) 或 reject 时不移除。</td> <td>Function(file): boolean | Promise</td> <td>无</td> </tr> </tbody> </table> <h3 id="on-change">on-change</h3> <blockquote> <p>上传中、完成、失败都会调用这个函数。</p> </blockquote> <p>文件状态改变的回调，返回为：</p> <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n  file<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  fileList<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* ... */</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  event<span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre> <ol> <li> <p><code>file</code> 当前操作的文件对象。</p> <pre class="language-js"><code class="language-js"><span class="token punctuation">{</span>\n   uid<span class="token operator">:</span> <span class="token string">\'uid\'</span><span class="token punctuation">,</span>      <span class="token comment">// 文件唯一标识，建议设置为负数，防止和内部产生的 id 冲突</span>\n   name<span class="token operator">:</span> <span class="token string">\'xx.png\'</span>   <span class="token comment">// 文件名</span>\n   status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span> <span class="token comment">// 状态有：uploading done error removed</span>\n   response<span class="token operator">:</span> <span class="token string">\'{"status": "success"}\'</span><span class="token punctuation">,</span> <span class="token comment">// 服务端响应内容</span>\n   linkProps<span class="token operator">:</span> <span class="token string">\'{"download": "image"}\'</span> <span class="token comment">// 下载链接额外的 HTML 属性</span>\n<span class="token punctuation">}</span></code></pre> </li> <li> <p><code>fileList</code> 当前的文件列表。</p> </li> <li> <p><code>event</code> 上传中的服务端响应内容，包含了上传进度等信息，高级浏览器支持。</p> </li> </ol> </div></div> '},2862:function(n,s){n.exports=' <div class="content"><div class="markdown"><h1 id="upload-%E4%B8%8A%E4%BC%A0">Upload 上传</h1> <p>文件选择上传和拖拽上传控件。</p> <h2 id="%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8">何时使用</h2> <p>上传是将信息（网页、文字、图片、视频等）通过网页或者上传工具发布到远程服务器上的过程。</p> <ul> <li>当需要上传一个或一些文件时。</li> <li>当需要展现上传的进度时。</li> <li>当需要使用拖拽交互时。</li> </ul> <h2 id="%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA">代码演示</h2> </div></div> '},2863:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E7%82%B9%E5%87%BB%E4%B8%8A%E4%BC%A0">点击上传</h4> <p>经典款式，用户点击按钮弹出文件选择框。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>\n            <span class="token attr-name">headers</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;{authorization: <span class="token punctuation">\'</span>authorization-text<span class="token punctuation">\'</span>}}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Click to Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">\'santd/es/message\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'santd/es/message/style\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token string">\'uploading\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">,</span> info<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">\'done\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> file uploaded successfully</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">\'error\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> file upload failed.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2864:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" name="file" headers="{{{authorization: \'authorization-text\'}}}" on-change="handleChange"> <s-button> <s-icon type="upload"/> Click to Upload </s-button> </s-upload> </div> '},2865:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E5%B7%B2%E4%B8%8A%E4%BC%A0%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8">已上传的文件列表</h4> <p>使用 <code>defaultFileList</code> 设置已上传的内容。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;defaultFileList}}<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Click to Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            defaultFileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'1\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'xxx.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                response<span class="token operator">:</span> <span class="token string">\'Server Error 500\'</span><span class="token punctuation">,</span> <span class="token comment">// custom error message to show</span>\n                url<span class="token operator">:</span> <span class="token string">\'http://www.baidu.com/xxx.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'2\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'yyy.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                url<span class="token operator">:</span> <span class="token string">\'http://www.baidu.com/yyy.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'3\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'zzz.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'error\'</span><span class="token punctuation">,</span>\n                response<span class="token operator">:</span> <span class="token string">\'Server Error 500\'</span><span class="token punctuation">,</span> <span class="token comment">// custom error message to show</span>\n                url<span class="token operator">:</span> <span class="token string">\'http://www.baidu.com/zzz.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">!==</span> <span class="token string">\'uploading\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">,</span> info<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2866:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" name="file" on-change="handleChange" defaultFileList="{{defaultFileList}}"> <s-button> <s-icon type="upload"/> Click to Upload </s-button> </s-upload> </div> '},2867:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E5%AE%8C%E5%85%A8%E6%8E%A7%E5%88%B6%E7%9A%84%E4%B8%8A%E4%BC%A0%E5%88%97%E8%A1%A8">完全控制的上传列表</h4> <p>使用 <code>fileList</code> 对列表进行完全控制，可以实现各种自定义功能，以下演示三种情况：</p> <ol> <li>上传列表数量的限制。</li> <li>读取远程路径并显示链接。</li> </ol> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n            <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;true}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList}}<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'-1\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'xxx.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                url<span class="token operator">:</span> <span class="token string">\'http://www.baidu.com/xxx.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">let</span> fileList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>info<span class="token punctuation">.</span>fileList<span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n        <span class="token comment">// 1. Limit the number of uploaded files</span>\n        <span class="token comment">// Only to show two recent uploaded files, and old ones will be replaced by the new</span>\n        fileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token comment">// 2. Read from response and show file link</span>\n        fileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token comment">// Component will show file.url as link</span>\n                file<span class="token punctuation">.</span>url <span class="token operator">=</span> file<span class="token punctuation">.</span>response<span class="token punctuation">.</span>url<span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n            <span class="token keyword">return</span> file<span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">,</span> fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2868:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" on-change="handleChange" multiple="{{true}}" fileList="{{fileList}}"> <s-button> <s-icon type="upload"/> Upload </s-button> </s-upload> </div> '},2869:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8A%E4%BC%A0">文件夹上传</h4> <p>支持上传一个文件夹里的所有文件。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">directory</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;true}}<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Upload Directory\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2870:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" directory="{{true}}"> <s-button> <s-icon type="upload"/> Upload Directory </s-button> </s-upload> </div> '},2871:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E7%94%A8%E6%88%B7%E5%A4%B4%E5%83%8F">用户头像</h4> <p>点击上传用户头像，并使用 <code>beforeUpload</code> 限制用户上传的图片格式和大小。</p> <blockquote> <p><code>beforeUpload</code> 的返回值可以是一个 Promise 以支持异步处理，如服务端校验等。</p> </blockquote> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>picture-card<span class="token punctuation">"</span></span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>avatar<span class="token punctuation">"</span></span>\n            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>avatar-uploader<span class="token punctuation">"</span></span>\n            <span class="token attr-name">showUploadList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;false}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">beforeUpload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;beforeUpload}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;imageUrl}}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>avatar<span class="token punctuation">"</span></span> <span class="token attr-name">s-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>imageUrl<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">s-else</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;loading ? <span class="token punctuation">\'</span>loading<span class="token punctuation">\'</span> : <span class="token punctuation">\'</span>plus<span class="token punctuation">\'</span>}}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>san-upload-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">\'santd/es/message\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'santd/es/message/style\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">getBase64</span><span class="token punctuation">(</span><span class="token parameter">img<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    reader<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'load\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">callback</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span> \n            imageUrl<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n            loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n            <span class="token function">beforeUpload</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">const</span> isJPG <span class="token operator">=</span> file<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">\'image/jpeg\'</span><span class="token punctuation">;</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isJPG<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">\'You can only upload JPG file!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n                <span class="token keyword">const</span> isLt2M <span class="token operator">=</span> file<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>\n                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isLt2M<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">\'Image must smaller than 2MB!\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token punctuation">}</span>\n                <span class="token keyword">return</span> isJPG <span class="token operator">&amp;&amp;</span> isLt2M<span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">\'uploading\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'loading\'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">return</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">\'done\'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token comment">// Get this url from response in real world.</span>\n            <span class="token function">getBase64</span><span class="token punctuation">(</span>info<span class="token punctuation">.</span>file<span class="token punctuation">.</span>originFileObj<span class="token punctuation">,</span> <span class="token parameter">imageUrl</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'imageUrl\'</span><span class="token punctuation">,</span> imageUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'loading\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n<span class="token selector">.avatar-uploader > .san-upload</span> <span class="token punctuation">{</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> 128px<span class="token punctuation">;</span>\n    <span class="token property">height</span><span class="token punctuation">:</span> 128px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2872:function(n,s,a){"use strict";a.r(s)},2873:function(n,s){n.exports=' <div> <s-upload listType="picture-card" action="https://www.mocky.io/v2/5cc8019d300000980a055e76" name="avatar" class="avatar-uploader" showUploadList="{{false}}" beforeUpload="{{beforeUpload}}" on-change="handleChange"> <img src="{{imageUrl}}" alt="avatar" s-if="imageUrl"/> <div s-else> <s-icon type="{{loading ? \'loading\' : \'plus\'}}"/> <div class="san-upload-text">Upload</div> </div> </s-upload> </div> '},2874:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8%E6%A0%B7%E5%BC%8F">图片列表样式</h4> <p>上传文件为图片，可展示本地缩略图。IE8/9 不支持浏览器本地缩略图展示（<a href="https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL" target="_blank">Ref</a>），可以写 <code>thumbUrl</code> 属性来代替。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>picture<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">defaultFileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>picture<span class="token punctuation">"</span></span>\n            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload-list-inline<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n        <span class="token keyword">return</span> <span class="token punctuation">{</span> \n            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'-1\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'xxx.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                url<span class="token operator">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\'</span><span class="token punctuation">,</span>\n                thumbUrl<span class="token operator">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> \n                uid<span class="token operator">:</span> <span class="token string">\'-2\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'yyy.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                url<span class="token operator">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\'</span><span class="token punctuation">,</span>\n                thumbUrl<span class="token operator">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n<span class="token selector">.upload-list-inline .san-upload-list-item</span> <span class="token punctuation">{</span>\n    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>\n    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>\n    <span class="token property">margin-right</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.upload-list-inline .san-upload-animate-enter</span> <span class="token punctuation">{</span>\n    <span class="token property">animation-name</span><span class="token punctuation">:</span> uploadAnimateInlineIn<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token selector">.upload-list-inline .san-upload-animate-leave</span> <span class="token punctuation">{</span>\n    <span class="token property">animation-name</span><span class="token punctuation">:</span> uploadAnimateInlineOut<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2875:function(n,s,a){"use strict";a.r(s)},2876:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" defaultFileList="{{fileList}}" listType="picture"> <s-button> <s-icon type="upload"/> Upload </s-button> </s-upload> <br/><br/> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" defaultFileList="{{fileList}}" listType="picture" class="upload-list-inline"> <s-button> <s-icon type="upload"/> Upload </s-button> </s-upload> </div> '},2877:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E7%85%A7%E7%89%87%E5%A2%99">照片墙</h4> <p>用户可以上传图片并在列表中显示缩略图。当上传照片数到达限制后，上传按钮消失。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>clearfix<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>picture-card<span class="token punctuation">"</span></span>\n            <span class="token attr-name">fileList</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">showButton</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList.length &lt; 3}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-preview</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handlePreview<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>plus<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>san-upload-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-modal</span> <span class="token attr-name">visible</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;previewVisible}}<span class="token punctuation">"</span></span> <span class="token attr-name">hasFooter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;false}}<span class="token punctuation">"</span></span> <span class="token attr-name">on-cancel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleCancel<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example<span class="token punctuation">"</span></span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100%</span><span class="token punctuation">"</span></span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;previewImage}}<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-modal</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Icon<span class="token punctuation">,</span> Modal<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">function</span> <span class="token function">getBase64</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        reader<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        reader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">resolve</span><span class="token punctuation">(</span>reader<span class="token punctuation">.</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        reader<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token parameter">error</span> <span class="token operator">=></span> <span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon<span class="token punctuation">,</span>\n        <span class="token string">\'s-modal\'</span><span class="token operator">:</span> Modal\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            previewVisible<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n            previewImage<span class="token operator">:</span> <span class="token string">\'\'</span><span class="token punctuation">,</span>\n            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>\n                uid<span class="token operator">:</span> <span class="token string">\'-1\'</span><span class="token punctuation">,</span>\n                name<span class="token operator">:</span> <span class="token string">\'xxx.png\'</span><span class="token punctuation">,</span>\n                status<span class="token operator">:</span> <span class="token string">\'done\'</span><span class="token punctuation">,</span>\n                url<span class="token operator">:</span> <span class="token string">\'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\'</span>\n            <span class="token punctuation">}</span><span class="token punctuation">]</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span>fileList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'previewVisible\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handlePreview</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span>url <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>file<span class="token punctuation">.</span>preview<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n            <span class="token function">getBase64</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>originFileObj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">preview</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'previewImage\'</span><span class="token punctuation">,</span> preview<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'previewVisible\'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'previewImage\'</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'previewVisible\'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>\n\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">\n<span class="token selector">.san-upload-select-picture-card i</span> <span class="token punctuation">{</span>\n    <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token selector">.san-upload-select-picture-card .san-upload-text</span> <span class="token punctuation">{</span>\n    <span class="token property">margin-top</span><span class="token punctuation">:</span> 8px<span class="token punctuation">;</span>\n    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2878:function(n,s,a){"use strict";a.r(s)},2879:function(n,s){n.exports=' <div class="clearfix"> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" listType="picture-card" fileList="{{fileList}}" showButton="{{fileList.length < 3}}" on-change="handleChange" on-preview="handlePreview"> <s-icon type="plus"/> <div class="san-upload-text">Upload</div> </s-upload> <s-modal visible="{{previewVisible}}" hasFooter="{{false}}" on-cancel="handleCancel"> <img alt="example" style="width:100%" src="{{previewImage}}"/> </s-modal> </div> '},2880:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E6%89%8B%E5%8A%A8%E4%B8%8A%E4%BC%A0">手动上传</h4> <p><code>beforeUpload</code> 返回 <code>false</code> 后，手动上传文件。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-remove</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleRemove<span class="token punctuation">"</span></span>\n            <span class="token attr-name">beforeUpload</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;beforeUpload}}<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Select File\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span>\n            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primary<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleUpload<span class="token punctuation">"</span></span>\n            <span class="token attr-name">disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;fileList.length === 0}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;uploading}}<span class="token punctuation">"</span></span>\n            <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">margin-top</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span>\n        <span class="token punctuation">></span></span>\n            &#123;&#123;uploading ? \'Uploading\' : \'Start Upload\'}}\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">\'axios\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">\'santd/es/message\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'santd/es/message/style\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>\n        <span class="token keyword">return</span> <span class="token punctuation">{</span>\n            fileList<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n            uploading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n            <span class="token function">beforeUpload</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                <span class="token keyword">const</span> fileList <span class="token operator">=</span> that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                that<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">,</span> fileList<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleRemove</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> fileList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">const</span> index <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">const</span> newFileList <span class="token operator">=</span> fileList<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        newFileList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">,</span> newFileList<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleUpload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">const</span> fileList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">\'fileList\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token keyword">const</span> formData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        fileList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            formData<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">\'files[]\'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'uploading\'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n        <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n            url<span class="token operator">:</span> <span class="token string">\'https://www.mocky.io/v2/5cc8019d300000980a055e76\'</span><span class="token punctuation">,</span>\n            method<span class="token operator">:</span> <span class="token string">\'post\'</span><span class="token punctuation">,</span>\n            processData<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n            data<span class="token operator">:</span> formData\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">response</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">\'uploading\'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">\'upload successfully.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">\'upload failed.\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2881:function(n,s){n.exports=' <div> <s-upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" on-remove="handleRemove" beforeUpload="{{beforeUpload}}"> <s-button> <s-icon type="upload"/> Select File </s-button> </s-upload> <s-button type="primary" on-click="handleUpload" disabled="{{fileList.length === 0}}" loading="{{uploading}}" style="margin-top:16px"> {{uploading ? \'Uploading\' : \'Start Upload\'}} </s-button> </div> '},2899:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E8%87%AA%E5%AE%9A%E4%B9%89%E9%A2%84%E8%A7%88">自定义预览</h4> <p>自定义本地预览，用于处理非图片格式文件（例如视频文件）。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-upload</span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://jsonplaceholder.typicode.com/posts/<span class="token punctuation">"</span></span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>\n            <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>picture<span class="token punctuation">"</span></span>\n            <span class="token attr-name">previewFile</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;previewFile}}<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-button</span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>upload<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> Upload\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-button</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-upload</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">\'axios\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-upload\'</span><span class="token operator">:</span> Upload<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">initData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> \n        <span class="token keyword">return</span> <span class="token punctuation">{</span> \n            <span class="token function">previewFile</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'Your upload file:\'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                <span class="token comment">// Your process logic. Here we just mock to the same file</span>\n                <span class="token keyword">return</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n                    url<span class="token operator">:</span> <span class="token string">\'https://next.json-generator.com/api/json/get/4ytyBoLK8\'</span><span class="token punctuation">,</span>\n                    method<span class="token operator">:</span> <span class="token string">\'POST\'</span><span class="token punctuation">,</span>\n                    data<span class="token operator">:</span> file<span class="token punctuation">,</span>\n                <span class="token punctuation">}</span><span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> res<span class="token punctuation">.</span>data<span class="token punctuation">)</span>\n                <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> thumbnail <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> thumbnail<span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token punctuation">}</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2900:function(n,s){n.exports=' <div> <s-upload action="https://jsonplaceholder.typicode.com/posts/" name="file" listType="picture" previewFile="{{previewFile}}"> <s-button> <s-icon type="upload"/> Upload </s-button> </s-upload> </div> '},2901:function(n,s){n.exports=' <div class="content"><codebox> <code-preview-0 slot="code-preview"></code-preview-0> <section slot="text-place-holder"><h4 id="%E6%8B%96%E6%8B%BD%E4%B8%8A%E4%BC%A0">拖拽上传</h4> <p>把文件拖入指定区域，完成上传，同样支持点击上传。设置 <code>multiple</code> 后，在 <code>IE10+</code> 可以一次上传多个文件。</p> </section> <div slot="code-place-holder"> <div class="markdown"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-dragger</span>\n            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span>\n            <span class="token attr-name">multiple</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;&#123;true}}<span class="token punctuation">"</span></span>\n            <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">"</span></span>\n            <span class="token attr-name">on-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleChange<span class="token punctuation">"</span></span>\n        <span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>san-upload-drag-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>inbox<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>san-upload-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Click or drag file to this area to upload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>san-upload-hint<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>\n        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>s-dragger</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">\n<span class="token keyword">import</span> <span class="token punctuation">{</span>Upload<span class="token punctuation">,</span> Button<span class="token punctuation">,</span> Icon<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'santd\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> Dragger <span class="token operator">=</span> Upload<span class="token punctuation">.</span>Dragger<span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>\n    components<span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token string">\'s-dragger\'</span><span class="token operator">:</span> Dragger<span class="token punctuation">,</span>\n        <span class="token string">\'s-button\'</span><span class="token operator">:</span> Button<span class="token punctuation">,</span>\n        <span class="token string">\'s-icon\'</span><span class="token operator">:</span> Icon\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token function">handleChange</span><span class="token punctuation">(</span><span class="token parameter">info</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre> </div> </div> </codebox> </div> '},2902:function(n,s){n.exports=' <div> <s-dragger name="file" multiple="{{true}}" action="https://www.mocky.io/v2/5cc8019d300000980a055e76" on-change="handleChange"> <p class="san-upload-drag-icon"> <s-icon type="inbox"/> </p> <p class="san-upload-text">Click or drag file to this area to upload</p> <p class="san-upload-hint">Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p> </s-dragger> </div> '},3452:function(n,s,a){"use strict";a.r(s);var t=a(1),p=a.n(t),o=a(1670),e=a.n(o),c=a(1671),l=a.n(c),u=a(1672),i=a.n(u),k=a(1674),r=a.n(k),d=a(1676),g=a.n(d),f=a(1678),m=a.n(f),v=a(1680),h=a.n(v),w=a(1682),b=a.n(w),y=a(1684),x=a.n(y),U=a(1686),L=a.n(U),j=a(1688),E=a.n(j),B=a(1690),q=a.n(B);s.default=p.a.defineComponent({components:{readme:e.a,desc:l.a,basic:i.a,defaultfilelist:r.a,controlledfilelist:g.a,directory:m.a,avatar:h.a,picture:b.a,picturewall:x.a,manual:L.a,preview:E.a,dragger:q.a},template:"\n        <div>\n            <desc/>\n            <basic/>\n            <defaultfilelist/>\n            <controlledfilelist/>\n            <directory/>\n            <picture/>\n            <avatar/>\n            <picturewall/>\n            <dragger/>\n            <manual/>\n            <preview/>\n            <readme/>\n        </div>\n    "})},626:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return c}));var t,p,o,e=a(2);class c extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0,children:[{level:2,title:"API",hash:"api",children:[{level:3,title:"on-change",hash:"on-change"}]}]})}}o={},(p="components")in(t=c)?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},627:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return c}));var t,p,o,e=a(2);class c extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0,children:[{level:2,title:"何时使用",hash:"%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8"},{level:2,title:"代码演示",hash:"%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"}]})}}o={},(p="components")in(t=c)?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},628:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1673),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},629:function(n,s,a){"use strict";a.r(s);var t=a(0),p=a(9);a(16);s.default={components:{"s-upload":t.jb,"s-button":t.i,"s-icon":t.z},handleChange(n){"uploading"!==n.file.status&&console.log(n.file,n.fileList),"done"===n.file.status?p.a.success(n.file.name+" file uploaded successfully"):"error"===n.file.status&&p.a.error(n.file.name+" file upload failed.")}}},630:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1675),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},631:function(n,s,a){"use strict";a.r(s);var t=a(0);s.default={components:{"s-upload":t.jb,"s-button":t.i,"s-icon":t.z},initData:()=>({defaultFileList:[{uid:"1",name:"xxx.png",status:"done",response:"Server Error 500",url:"http://www.baidu.com/xxx.png"},{uid:"2",name:"yyy.png",status:"done",url:"http://www.baidu.com/yyy.png"},{uid:"3",name:"zzz.png",status:"error",response:"Server Error 500",url:"http://www.baidu.com/zzz.png"}]}),handleChange(n){"uploading"!==n.file.status&&console.log(n.file,n.fileList)}}},632:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1677),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},633:function(n,s,a){"use strict";a.r(s);var t=a(0);s.default={components:{"s-upload":t.jb,"s-button":t.i,"s-icon":t.z},initData:()=>({fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"http://www.baidu.com/xxx.png"}]}),handleChange(n){let s=[...n.fileList];s=s.slice(-2),s=s.map(n=>(n.response&&(n.url=n.response.url),n)),this.data.set("fileList",s)}}},634:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1679),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},635:function(n,s,a){"use strict";a.r(s);var t=a(0);s.default={components:{"s-upload":t.jb,"s-button":t.i,"s-icon":t.z}}},636:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1681),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},637:function(n,s,a){"use strict";a.r(s);var t=a(0),p=a(9);a(16);s.default={components:{"s-upload":t.jb,"s-icon":t.z},initData:()=>({imageUrl:null,loading:!1,beforeUpload(n){const s="image/jpeg"===n.type;s||p.a.error("You can only upload JPG file!");const a=n.size/1024/1024<2;return a||p.a.error("Image must smaller than 2MB!"),s&&a}}),handleChange(n){"uploading"!==n.file.status?"done"===n.file.status&&function(n,s){const a=new FileReader;a.addEventListener("load",()=>s(a.result)),a.readAsDataURL(n)}(n.file.originFileObj,n=>{this.data.set("imageUrl",n),this.data.set("loading",!1)}):this.data.set("loading",!0)}}},638:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1683),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},639:function(n,s,a){"use strict";a.r(s);var t=a(0);s.default={components:{"s-upload":t.jb,"s-button":t.i,"s-icon":t.z},initData:()=>({fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",thumbUrl:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"},{uid:"-2",name:"yyy.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",thumbUrl:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]})}},640:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1685),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},641:function(n,s,a){"use strict";a.r(s);var t=a(0);s.default={components:{"s-upload":t.jb,"s-icon":t.z,"s-modal":t.H},initData:()=>({previewVisible:!1,previewImage:"",fileList:[{uid:"-1",name:"xxx.png",status:"done",url:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"}]}),handleChange(n){console.log(n),this.data.set("fileList",n.fileList)},handleCancel(){this.data.set("previewVisible",!1)},handlePreview(n){const s=this;n.url||n.preview||function(n){return new Promise((s,a)=>{const t=new FileReader;t.readAsDataURL(n),t.onload=()=>s(t.result),t.onerror=n=>a(n)})}(n.originFileObj).then((function(n){s.data.set("previewImage",n),s.data.set("previewVisible",!0)})),s.data.set("previewImage",n.url),s.data.set("previewVisible",!0)}}},642:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1687),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},643:function(n,s,a){"use strict";a.r(s);var t=a(33),p=a.n(t),o=a(0),e=a(9);a(16);s.default={components:{"s-upload":o.jb,"s-button":o.i,"s-icon":o.z},initData(){const n=this;return{fileList:[],uploading:!1,beforeUpload(s){const a=n.data.get("fileList");return n.data.set("fileList",a.concat(s)),!1}}},handleRemove(n){const s=this.data.get("fileList"),a=s.indexOf(n),t=s.slice();t.splice(a,1),this.data.set("fileList",t)},handleUpload(){const n=this.data.get("fileList"),s=new FormData;n.forEach(n=>{s.append("files[]",n)}),this.data.set("uploading",!0),p()({url:"https://www.mocky.io/v2/5cc8019d300000980a055e76",method:"post",processData:!1,data:s}).then(n=>{this.data.set("uploading",!1),e.a.success("upload successfully.")}).catch(n=>{e.a.error("upload failed.")})}}},652:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1689),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},653:function(n,s,a){"use strict";a.r(s);var t=a(33),p=a.n(t),o=a(0);s.default={components:{"s-upload":o.jb,"s-button":o.i,"s-icon":o.z},initData:()=>({previewFile:n=>(console.log("Your upload file:",n),p()({url:"https://next.json-generator.com/api/json/get/4ytyBoLK8",method:"POST",data:n}).then(n=>n.data).then(({thumbnail:n})=>n))})}},654:function(n,s,a){"use strict";a.r(s),function(n){a.d(s,"default",(function(){return u}));var t,p,o,e=a(2),c=a(1691),l=a.n(c);class u extends e.a{inited(){n.hub&&n.hub.fire&&n.hub.fire("changed",{level:0})}}t=u,p="components",o={"code-preview-0":l.a},p in t?Object.defineProperty(t,p,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[p]=o}.call(this,a(4))},655:function(n,s,a){"use strict";a.r(s);var t=a(0);const p=t.jb.Dragger;s.default={components:{"s-dragger":p,"s-button":t.i,"s-icon":t.z},handleChange(n){}}}}]);